<!-- Section: rooms -->
<span id="rooms"></span>
<section class="section scrollspy mt-lg">
  <div class="container">
    <div class="row center-align">
      <h2 class="custom-header color-primary">Our Rooms</h2>

      <p class="subtitle color-primary">
        All rooms feature free Wi-Fi, AC, hot shower, refrigerator, electric kettle, towels and slippers.<br>
        <b>Flexible reschedule</b> if plans change.<br>
        <b>Free breakfast</b> included.
      </p>

      <div class="mobile-scrollable-row">
        {% for room in site.data.rooms %}

        <!-- create a row around ever 3 elements -->
        <!-- {% assign remainder = forloop.index | modulo: 3 %}
      {% if remainder == 1 %}
      <div class="row">
      {% endif %} -->

        <div class="col s12 m6 l4">
          <div class="card room-card">

            <!-- Card Image -->
            <div class="card-image">
              <a href="#modal{{ forloop.index }}" class="modal-trigger">
                <img src="assets/img/rooms/{{ room.img-cover }}" alt="" class="responsive-img">
              </a>
            </div>

            <!-- Card Content -->
            <div class="card-content">
              <span class="card-title color-primary">{{ room.title }}</span>
              <span class="subtitle grey-text">{{ room.bed }}</span>
              <p>{{ room.short-description }}</p>

              {% if room.unavailable %}
              <p style="align-content:center;height: 36px;">COMING SOON</p>
              {% else %}
              <a href="#modal{{ forloop.index }}" class="btn-flat modal-trigger color-primary">Details</a>
              {% endif %}
            </div>

            <!-- Card Footer/Action -->
            <div class="card-action space-between">
              {% if room.unavailable %}
              <div style="height:36px"></div>
              {% else %}
              <span class="price color-primary">{{ room.price }}</span>
              <a href="#contact" class="btn">Book Now</a>
              {% endif %}
            </div>

            <!-- Modal -->
            <div id="modal{{ forloop.index }}" class="modal center-align">
              {% for room-type in room.options %}
              <div class="room-type">

                <!-- Room-Type Images -->
                <div class="row mobile-scrollable-row">
                  {% for i in (1..3) %}
                  <div class="col s6 m4">
                    <a href="assets/img/rooms/{{ room-type.image-code }}-{{ i }}.jpg" data-gallery="g1" class="glightbox">
                      <img src="assets/img/rooms/{{ room-type.image-code }}-{{ i }}.jpg" alt="" class="responsive-img">
                    </a>
                  </div>
                  {% endfor %}
                </div>

                <!-- Room-Type Info -->
                <div class="container">
                  <div class="custom-title color-primary">{{ room-type.title }}</div>
                  <span class="subtitle color-grey">{{ room-type.bed }}</span>
                  <p style="text-align:justify;">
                    {{ room-type.description }}
                  </p>
                </div>

                <!-- Price, "Book Now", "Close" -->
                <div class="container space-between">
                  <span class="price color-primary">{{ room-type.price }}</span>
                  <a href="#contact" class="btn modal-close">Book Now</a>
                  <a href="#!" class="modal-close btn-flat" style="padding:0;">Close</a>
                </div>
              </div>

              {% endfor %}
            </div>

          </div>
        </div>

        <!-- {% if remainder == 0 %}
      </div>
      {% endif %} -->

        {% endfor %}

      </div>
    </div>

    <!-- <div class="col s12 m10 offset-m1">
          <ul class="collapsible" data-collapsible="accordion">
            {% for room in site.data.rooms %}
            <li>
              <div class="collapsible-header">
                <i class="material-icons orange-text text-darken-3">{{ room.icon }}</i>{{ room.title }}
              </div>
              <div class="collapsible-body">
                <blockquote>{{ room.details | markdownify }}</blockquote>
              </div>
            </li>
            {% endfor %}
          </ul>
        </div> -->

  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    var elems = document.querySelectorAll('.modal');
    var instances = M.Modal.init(elems);
  });
</script>